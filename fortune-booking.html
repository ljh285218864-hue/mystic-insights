 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Book a Destiny Reading | Your Brand</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="font-inter text-dark bg-light antialiased">

  <!-- 顶部导航 -->
  <header id="navbar" class="fixed w-full z-50 transition-all duration-300">
    <div class="container mx-auto px-4 py-4 flex items-center justify-between">
      <a href="index.html#home" class="flex items-center space-x-2">
        <div class="w-10 h-10 rounded-full bg-primary flex items-center justify-center">
          <i class="fa fa-moon-o text-white text-xl"></i>
        </div>
        <span class="text-2xl font-bold text-white">Your Brand</span>
      </a>
      <nav class="hidden md:flex items-center space-x-8">
        <a href="fortune.html" class="text-secondary font-semibold">Destiny Reading</a>
        <a href="feng-shui.html">Feng Shui</a>
        <a href="shop.html">Shop</a>
        <a href="index.html#testimonials">Testimonials</a>
        <a href="index.html#contact">Contact</a>
      </nav>
      <button id="mobile-menu-button" class="md:hidden text-white text-2xl">
        <i class="fa fa-bars"></i>
      </button>
    </div>

    <!-- 手机菜单 -->
    <div id="mobile-menu"
         class="md:hidden bg-white shadow-lg absolute w-full left-0 top-full transform -translate-y-full opacity-0 transition-all duration-300 invisible">
      <div class="container mx-auto px-4 py-4 flex flex-col space-y-4">
        <a href="fortune.html" class="text-primary font-medium py-2">Destiny Reading</a>
        <a href="feng-shui.html" class="text-dark hover:text-primary transition-colors font-medium py-2">Feng Shui</a>
        <a href="shop.html" class="text-dark hover:text-primary transition-colors font-medium py-2">Shop</a>
        <a href="index.html#testimonials" class="text-dark hover:text-primary transition-colors font-medium py-2">Testimonials</a>
        <a href="index.html#contact"
           class="bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-full transition-all font-medium text-center">
          Contact
        </a>
      </div>
    </div>
  </header>

  <!-- 内容 -->
  <main class="pt-32 pb-20 bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto bg-white rounded-2xl shadow-xl p-8 md:p-10">
        <h1 class="text-2xl md:text-3xl font-bold mb-2">Book your destiny reading</h1>
        <p class="text-gray-600 text-sm mb-6">
          You’re one step away. Fill this in, then tap the button to send everything to me on WhatsApp.
          I’ll confirm and send you a payment link. After payment, I’ll start your reading.
        </p>

        <!-- 已选套餐显示 -->
        <div class="mb-6 bg-light border border-gray-200 rounded-xl p-4">
          <p class="text-xs uppercase tracking-[0.18em] text-secondary mb-1">SELECTED PACKAGE</p>
          <h2 id="selected-package-name" class="text-lg font-bold mb-1">
            Three Questions Deep Dive
          </h2>
          <p id="selected-package-desc" class="text-gray-600 text-sm">
            Ask three focused questions about love, work, money, timing or patterns.
          </p>
        </div>

        <!-- 表单 -->
        <form id="fortune-booking-form" class="space-y-5">
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Your full name</label>
              <input type="text" id="name" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" required>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Email (optional)</label>
              <input type="email" id="email" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" placeholder="If you want a copy by email">
            </div>
          </div>

          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">WhatsApp number (with country code)</label>
              <input type="text" id="whatsapp" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" placeholder="e.g. +1 415 555 1234" required>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Your time zone</label>
              <input type="text" id="timezone" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" placeholder="e.g. PST, EST, GMT+1" required>
            </div>
          </div>

          <div class="grid md:grid-cols-3 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Date of birth</label>
              <input type="text" id="dob" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" placeholder="YYYY-MM-DD" required>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Time of birth</label>
              <input type="text" id="tob" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Exact time or 'unknown'">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Place of birth</label>
              <input type="text" id="pob" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" placeholder="City, Country" required>
            </div>
          </div>

          <!-- 问题区域：根据套餐动态生成 -->
          <div id="question-fields" class="space-y-3">
            <!-- JS 填充：一个问题 / 三个问题 / 完整解析 -->
          </div>

          <p class="text-xs text-gray-500">
            Please be as honest and specific as you can. For this reading I only work in English.
          </p>

          <div class="pt-4">
            <button id="whatsapp-submit"
                    class="w-full bg-primary hover:bg-primary/90 text-white py-3 rounded-full font-medium text-sm flex items-center justify-center gap-2">
              <i class="fa fa-whatsapp text-lg"></i>
              <span>Send my details by WhatsApp</span>
            </button>
          </div>
        </form>

        <p class="mt-4 text-[11px] text-gray-500">
          After you send your details, I’ll confirm I can take your case and send a secure payment link (USD, PayPal or card).
          If I haven’t started your reading yet, you can request a refund within 24 hours of payment.
          Once I begin working on your chart, there are no refunds.
        </p>
      </div>
    </div>
  </main>

  <!-- 回到顶部 -->
  <button id="back-to-top"
          class="fixed bottom-8 right-8 bg-primary hover:bg-primary/90 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg transition-all opacity-0 invisible">
    <i class="fa fa-chevron-up"></i>
  </button>

  <script src="script.js"></script>

  <!-- 本页专用脚本：根据套餐生成问题 + 拼接WhatsApp链接 -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const params = new URLSearchParams(window.location.search);
      const pkg = params.get('package') || 'three';

      const nameEl = document.getElementById('selected-package-name');
      const descEl = document.getElementById('selected-package-desc');
      const qWrap = document.getElementById('question-fields');

      function createTextarea(id, label, placeholder) {
        const div = document.createElement('div');
        div.innerHTML = `
          <label class="block text-sm font-medium text-gray-700 mb-1">${label}</label>
          <textarea id="${id}" rows="3"
            class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
            placeholder="${placeholder}"></textarea>
        `;
        return div;
      }

      qWrap.innerHTML = '';

      if (pkg === 'single') {
        nameEl.textContent = 'One Clear Question Reading';
        descEl.textContent = 'Ask one focused question. You receive a written answer on WhatsApp, plus one short follow-up message about the same issue.';
        qWrap.appendChild(
          createTextarea(
            'q1',
            'Your question',
            'Example: “Should I stay in this relationship or leave?”'
          )
        );
      } else if (pkg === 'full') {
        nameEl.textContent = 'Full Destiny Chart Reading';
        descEl.textContent = 'A full reading of your chart – personality, timing, love, money – plus a written answer on WhatsApp and follow-up space for questions.';
        qWrap.appendChild(
          createTextarea(
            'q1',
            'What is happening in your life right now?',
            'Describe the main areas you are struggling with or curious about. Be as honest and detailed as you like.'
          )
        );
        qWrap.appendChild(
          createTextarea(
            'q2',
            'What do you most want to understand or change?',
            'For example: relationships, work, money, timing decisions, repeating patterns...'
          )
        );
      } else {
        // 默认 three
        nameEl.textContent = 'Three Questions Deep Dive';
        descEl.textContent = 'Ask three focused questions about love, work, money, timing or repeating patterns. You receive written answers on WhatsApp.';
        qWrap.appendChild(
          createTextarea(
            'q1',
            'Question 1',
            'Example: “Can this relationship be repaired? If yes, what should I do?”'
          )
        );
        qWrap.appendChild(
          createTextarea(
            'q2',
            'Question 2',
            'Example: “What kind of work actually fits me? Is now the time to change?”'
          )
        );
        qWrap.appendChild(
          createTextarea(
            'q3',
            'Question 3',
            'Example: “Why do I keep repeating this pattern, and how can I work with it?”'
          )
        );
      }

      const submitBtn = document.getElementById('whatsapp-submit');
      submitBtn.addEventListener('click', function (e) {
        e.preventDefault();

        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const whatsapp = document.getElementById('whatsapp').value.trim();
        const timezone = document.getElementById('timezone').value.trim();
        const dob = document.getElementById('dob').value.trim();
        const tob = document.getElementById('tob').value.trim() || 'unknown';
        const pob = document.getElementById('pob').value.trim();

        if (!name || !whatsapp || !timezone || !dob || !pob) {
          alert('Please fill in your name, WhatsApp, time zone, date and place of birth.');
          return;
        }

        const q1 = (document.getElementById('q1')?.value || '').trim();
        const q2 = (document.getElementById('q2')?.value || '').trim();
        const q3 = (document.getElementById('q3')?.value || '').trim();

        let pkgLabel = '';
        if (pkg === 'single') pkgLabel = 'One Clear Question Reading';
        else if (pkg === 'full') pkgLabel = 'Full Destiny Chart Reading';
        else pkgLabel = 'Three Questions Deep Dive';

        let text = `Destiny reading booking\n\nPackage: ${pkgLabel}\n\nName: ${name}\nEmail: ${email || '(not provided)'}\nWhatsApp: ${whatsapp}\nTime zone: ${timezone}\n\nDate of birth: ${dob}\nTime of birth: ${tob}\nPlace of birth: ${pob}\n\n`;

        if (pkg === 'single') {
          text += `Question:\n${q1 || '(not written yet)'}\n`;
        } else if (pkg === 'full') {
          text += `What is happening:\n${q1 || '(not written yet)'}\n\nWhat I want to understand/change:\n${q2 || '(not written yet)'}\n`;
        } else {
          text += `Question 1:\n${q1 || '(not written yet)'}\n\nQuestion 2:\n${q2 || '(not written yet)'}\n\nQuestion 3:\n${q3 || '(not written yet)'}\n`;
        }

        text += `\nI understand the reading will be delivered in written English on WhatsApp and that refunds are only possible before you start working on my chart.`;

        const WA_NUMBER = 'YOUR_WHATSAPP_NUMBER'; // ← 换成你的号码（不要加 +，只写数字和国家区号）
        const url = `https://wa.me/${WA_NUMBER}?text=${encodeURIComponent(text)}`;
        window.open(url, '_blank');
      });
    });
  </script>
</body>
</html>
